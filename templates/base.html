<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Ø¯Ø§Ø±ÙƒÙ…{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class'
      }
    </script>
    <style>
      body {
        padding-top: 70px; 
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-300 transition-colors duration-300">

    {# --- NAVIGATION BAR --- #}
    <nav class="fixed top-0 left-0 w-full bg-white/70 dark:bg-gray-800/70 backdrop-blur-md shadow-sm z-50">
      <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <a href="{{ url_for('home') }}"><h1 id="nav-logo" class="text-2xl font-bold text-blue-600 pl-4">Ø¯Ø§Ø±ÙƒÙ…</h1></a>
        
        <ul class="hidden md:flex space-x-8 flex-row" style="direction: ltr;">
          <li><a href="{{ url_for('home') }}" id="nav-home" class="font-bold hover:text-blue-600">Home</a></li>
          
          <li><a href="{{ url_for('ai_estimator_page') }}" id="nav-ai" class="font-bold hover:text-blue-600">AI</a></li>
          
        </ul>
        <div class="flex items-center space-x-2">
          
          <div class="border rounded-md overflow-hidden flex text-sm">
            <button id="lang-ar" class="px-3 py-1 bg-white dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">AR</button>
            <button id="lang-en" class="px-3 py-1 bg-white dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">EN</button>
          </div>
          
          <button class="md:hidden text-gray-600 hover:text-blue-600 focus:outline-none">â˜°</button>
          
          <button id="dark-toggle" class="ml-2 px-3 py-1 border rounded-md hover:bg-gray-200 dark:hover:bg-gray-700">ğŸŒ™</button>
        </div>
      </div>
    </nav>

    {# --- MAIN CONTENT BLOCK --- #}
    {% block content %}{% endblock %}

    {# --- FOOTER --- #}
    <footer class="bg-gray-900 text-gray-300 py-10">
      <div class="max-w-7xl mx-auto px-4 text-center md:text-left md:flex justify-between items-center">
        <p id="footer-text">&copy; 2025 darcom</p>
        <div class="space-x-6 mt-4 md:mt-0">
          <a href="#" id="footer-privacy" class="hover:text-white">Privacy Policy</a>
          <a href="#" id="footer-terms" class="mr-4 hover:text-white">Terms of Service</a>
        </div>
      </div>
    </footer>

    {# --- SHARED JAVASCRIPT --- #}
    <script>
      const translations = {
        en: {
          navLogo: "Darcom", navHome: "Home", navListings: "Listings", navAI: "AI", navContact: "Contact",
          heroTitle: "Find Your Home Today", heroSubtitle: "Browse listings to find the perfect place ", searchPlaceholder: "Search homes...",
          searchBtn: "Browse", featuredTitle: "Featured Listings", card1Title: "Family Home", card1Desc: "4 Beds â€¢ 3 Baths â€¢ 280 sqm",
          card2Title: "Luxury Villa", card2Desc: "5 Beds â€¢ 4 Baths â€¢ 350 sqm", card3Title: "Big House", card3Desc: "3 Beds â€¢ 2 Baths â€¢ 180 sqm",
          aiTitle: "AI Price Estimator", aiSubtitle: "Enter the property details to get an estimated price.",
          recommendationTitle: "Similar Properties You Might Like",
          predictBtn: "Estimate Price",
          footerText: "2025 Darcom", footerPrivacy: "Privacy Policy", footerTerms: "Terms of Service", direction: "ltr"
        },
        ar: {
          navLogo: "Ø¯Ø§Ø±ÙƒÙ…", navHome: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", navListings: "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©", navAI: "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", navContact: "Ø§ØªØµÙ„ Ø¨Ù†Ø§",
          heroTitle: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø²Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…", heroSubtitle: "ØªØµÙØ­ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ùƒ ÙˆÙ„Ø¹Ø§Ø¦Ù„ØªÙƒ.", searchPlaceholder: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø²Ù„...",
          searchBtn: "ØªØµÙØ­ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…", featuredTitle: "Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù…ÙŠØ²Ø©", card1Title: "Ù…Ù†Ø²Ù„ Ø¹Ø§Ø¦Ù„ÙŠ ", card1Desc: "4 ØºØ±Ù Ù†ÙˆÙ… â€¢ 3 Ø­Ù…Ø§Ù…Ø§Øª â€¢ 2,800 Ù‚Ø¯Ù… Ù…Ø±Ø¨Ø¹",
          card2Title: "Ø¨ÙŠØª", card2Desc: "5 ØºØ±Ù Ù†ÙˆÙ… â€¢ 4 Ø­Ù…Ø§Ù…Ø§Øª â€¢ 3,500 Ù‚Ø¯Ù… Ù…Ø±Ø¨Ø¹", card3Title: "Ø¨ÙŠØª", card3Desc: "3 ØºØ±Ù Ù†ÙˆÙ… â€¢ 2 Ø­Ù…Ø§Ù… â€¢ 1,800 Ù‚Ø¯Ù… Ù…Ø±Ø¨Ø¹",
          aiTitle: "Ù…Ù‚Ø¯Ø± Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", aiSubtitle: "Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø§Ø± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¹Ø± ØªÙ‚Ø¯ÙŠØ±ÙŠ. (Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ù‡ Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø©).",
          recommendationTitle: "Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ù…Ø§Ø«Ù„Ø© Ù‚Ø¯ ØªØ¹Ø¬Ø¨Ùƒ",
          predictBtn: "ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø³Ø¹Ø±",
          footerText: "Â© 2025 Ø¯Ø§Ø±ÙƒÙ…. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.", footerPrivacy: "Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©", footerTerms: "Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©", direction: "rtl"
        }
      };

     function setLanguage(lang) {
        const t = translations[lang];
        document.body.dir = t.direction;

        
        document.getElementById("nav-logo").textContent = t.navLogo;
        document.getElementById("nav-home").textContent = t.navHome;
        // document.getElementById("nav-listings").textContent = t.navListings; // <-- FIXED
        document.getElementById("nav-ai").textContent = t.navAI;
        // document.getElementById("nav-contact").textContent = t.navContact; // <-- FIXED
        document.getElementById("footer-text").textContent = t.footerText;
        document.getElementById("footer-privacy").textContent = t.footerPrivacy;
        document.getElementById("footer-terms").textContent = t.footerTerms;
        
        
        if (typeof updatePageContent === 'function') {
            updatePageContent(t);
        }

        localStorage.setItem("site-language", lang);
      }

      document.getElementById("lang-ar").addEventListener("click", () => setLanguage("ar"));
      document.getElementById("lang-en").addEventListener("click", () => setLanguage("en"));

      const savedLang = localStorage.getItem("site-language") || "en";
      setLanguage(savedLang);

      
      const darkToggle = document.getElementById("dark-toggle");
      darkToggle.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
      });
    </script>

    {% block scripts %}{% endblock %}
  </body>
</html>